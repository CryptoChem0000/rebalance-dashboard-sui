services:
  app:
    build: 
      context: .
      dockerfile: Dockerfile
    container_name: external-lp-rebalance-with-bolt
    restart: unless-stopped
    stop_grace_period: 120s
    environment:
      # Your original env vars
      - MNEMONIC=${MNEMONIC}

      # Frequency in seconds when the position status will be checked and a rebalance may happen (default 300 seconds)
      - WATCH_FREQUENCY=${WATCH_FREQUENCY:-300}
      
      # Config overrides
      - OSMOSIS_POOL_ID=${OSMOSIS_POOL_ID}
      - REBALANCE_THRESHOLD_PERCENT=${REBALANCE_THRESHOLD_PERCENT}
      - OSMOSIS_POSITION_BAND_PERCENTAGE=${OSMOSIS_POSITION_BAND_PERCENTAGE}
      
      # Config file path (default: ./docker-files/config/config.json)
      - CONFIG_FILE=${CONFIG_FILE:-./docker-files/config/config.json}
    volumes:
      # Map container's logs folder to host's docker-files/logs folder
      - ./docker-files/logs:/app/logs
      # Map container's database folder to host's docker-files/database folder
      - ./docker-files/database:/app/database
      # Map container's reports folder to host's docker-files/reports folder
      - ./docker-files/reports:/app/reports
      # Map container's docker-files/config folder to host's docker-files/config folder
      - ./docker-files/config:/app/docker-files/config
